<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Mini App</title>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <style>
    body {
      font-family: sans-serif;
      padding: 16px;
    }
    .page {
      display: none;
    }
    .page.active {
      display: block;
    }
  </style>
</head>
<body>
  <div id="app">
  </div>

<script>
const tg = window.Telegram.WebApp;
const tgData = window.Telegram.WebApp.initData
const user = tg.initDataUnsafe.user; // –û–±—ä–µ–∫—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
console.log("–î–∞–Ω–Ω—ã–µ:", tgData);
console.log("–Æ–∑–µ—Ä:", user)
console.log("–¢–ì:", tg)

console.log("—Å—Ç–∞—Ä—Ç–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä", tg.initDataUnsafe.start_param)

const startParam = tg.initDataUnsafe?.start_param;
function renderPage(param) {
  switch (param) {
    case 'page1':
      renderShop();
      break;

    case 'page2':
      renderPromo();
      break;

    case 'page3':
      renderProfile();
      break;

    default:
      renderHome();
  }
}

const initialRoute = startParam || '';

renderPage(initialRoute);

window.navigate = (route) => {
  renderPage(route);
};

function renderShop() {
  document.body.innerHTML = '<h1>–≠—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 1</h1>';
}

function renderPromo() {
  document.body.innerHTML = '<h1>–≠—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 2</h1>';
}

function renderProfile() {
  document.body.innerHTML = '<h1>–≠—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 3</h1>';
}

function renderHome() {
  document.body.innerHTML = `<h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å üëã</h1>
    <p>–¢—ã –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ!</p>
    <p>–¢–≤–æ–π Telegram ID:</p>
    <p id="userTgId"></p>
    <p>–¢–≤–æ—ë –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</p>
    <p id="userName"></p>
    <p id="tag"></p>`;
}


let userName = document.getElementById("userName");
userName.textContent = user.first_name;
let userTgId = document.getElementById("userTgId");
userTgId.textContent = user.id;

if (user) {
    console.log("ID:", user.id);
    console.log("–ò–º—è:", user.first_name);
    console.log("Username:", user.username);
    console.log("–Ø–∑—ã–∫:", user.language_code);
}

</script>
</body>
</html>
